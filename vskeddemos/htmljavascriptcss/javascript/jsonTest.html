<!DOCTYPE HTML>
<html lang="zh">
<head>
<!-- must set here! -->
<base href="">

<title>json测试</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0">
</head>

<body>

<script src="js/jquery.min.js"></script>

<script>
'use strict'

$(function(){
  jsonTest.baseJson1();
  jsonTest.baseJson2();
  jsonTest.jsonToStr();
  jsonTest.strToJson();
  jsonTest.jsonKeyCount();
});
  
var jsonTest=new Object({
	baseJson1:function(){
		console.log('baseJson1 start------------------');
		//第一种形式json字符串
		var obj1={'key':'f1','value':'v1'};
		console.log('取值方式1:'+obj1.key);
		console.log('取值方式2:'+obj1['key']);
		var ar1=[1,2,3,4,5];
		var t1={'str':'字符串','num':999,'obj':obj1,'array':ar1,'boolean':true,'n':null};
		console.log(t1);
		console.log('baseJson1 end------------------');
	},
	baseJson2:function(){
		console.log('baseJson2 start------------------');
		//第二种形式json数组
		var obj1=[{'key':'f1','value':'v1'},{'key':'f2','value':'v2'},{'key':'f3','value':'v3'}];
		console.log(obj1);
		console.log('baseJson2 end------------------');
	},
	jsonToStr:function(){
		console.log('jsonToStr start------------------');
		//json转字符串
		var obj1=[{'key':'f1','value':'v1'},{'key':'f2','value':'v2'},{'key':'f3','value':'v3'}];
		var str1=JSON.stringify(obj1);
		console.log(str1);
		console.log('jsonToStr end------------------');
	},
	strToJson:function(){
		console.log('strToJson start------------------');
		//字符串转json
		//特别注意这里面的json一定要用双引号！！
		var str1='[{"key":"f1","value":"v1"},{"key":"f2","value":"v2"},{"key":"f3","value":"v3"}]';
		var obj1=JSON.parse(str1);
		console.log(obj1);
		console.log('strToJson end------------------');
	},
	jsonKeyCount:function(){
	  console.log('jsonKeyCount start------------------');
	  var testJson={'aa':'bb','testKey':{'a1':'b','a2':'b2','a3':'b3'},'ab':'bb','ac':'bc'};
	  var ct=0;//第一种方式遍历
	  for(var tmpKey in testJson){
	    ct++;
	  }
		console.log('key数量:'+ct);
		var ct2=Object.keys(testJson.testKey).length;//第二种方式
		console.log('子元素key数量:'+ct2);
		console.log('jsonKeyCount end------------------');
	}
	
});
</script>

</body>
</html>