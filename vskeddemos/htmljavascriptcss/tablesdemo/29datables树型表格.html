<!DOCTYPE HTML>
<html lang="zh">
<head>
<!-- must set here! -->
<base href="">

<title>datatables树形ok1</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- 使用 viewport meta 标签在手机浏览器上控制布局 -->
<meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
<!-- 全屏模式,不显示工具栏和菜单栏 -->
<meta name="apple-mobile-web-app-capable" content="yes" />
<!-- 关闭iphone电话号码链接 -->
<meta name="format-detection" content="telephone=no" />

  <link href="css/bootstrap.min.css" rel="stylesheet">
  <link href="css/plugins/dataTables/datatables.min.css" rel="stylesheet">
  <link href="css/plugins/dataTables/dataTables.bootstrap4.min.css" rel="stylesheet">

</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col-10">
                <table id="accountListTable" class="table table-striped table-bordered">
                </table>
            </div>
        
          </div>
    </div>
	

    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/plugins/dataTables/datatables.min.js"></script>
    <script src="js/plugins/dataTables/dataTables.bootstrap4.min.js"></script>
    <script src="js/plugins/dataTables/treegrid/dataTables.treeGrid.js"></script>

    <script src="js/mock-min.js" type="text/javascript"></script>

    <script>
"use strict"
$(function(){
    console.log("init page ok");

var testData={
    "data": [
        {
            "name": "Tiger Nixon",
            "position": "System Architect",
            "office": "Edinburgh",
            "extn": "5421",
            "start": "2011\/04\/25",
            "salary": "$320,800",
            "children": [
                {
                    "name": "Hermione Butler",
                    "position": "Regional Director",
                    "office": "London",
                    "extn": "1016",
                    "start": "2011\/03\/21",
                    "salary": "$356,250"
                },
                {
                    "name": "Lael Greer",
                    "position": "Systems Administrator",
                    "office": "London",
                    "extn": "6733",
                    "start": "2009\/02\/27",
                    "salary": "$103,500",
                    "children": [
                        {
                            "name": "Jonas Alexander",
                            "position": "Developer",
                            "office": "San Francisco",
                            "extn": "8196",
                            "start": "2010\/07\/14",
                            "salary": "$86,500",
                            "children": [
                                {
                                    "name": "Jonas Alexander",
                                    "position": "Developer",
                                    "office": "San Francisco",
                                    "extn": "8196",
                                    "start": "2010\/07\/14",
                                    "salary": "$86,500"
                                },
                                {
                                    "name": "Shad Decker",
                                    "position": "Regional Director",
                                    "office": "Edinburgh",
                                    "extn": "6373",
                                    "start": "2008\/11\/13",
                                    "salary": "$183,000"
                                },
                                {
                                    "name": "Michael Bruce",
                                    "position": "Javascript Developer",
                                    "office": "Singapore",
                                    "extn": "5384",
                                    "start": "2011\/06\/27",
                                    "salary": "$183,000"
                                },
                                {
                                    "name": "Donna Snider",
                                    "position": "Customer Support",
                                    "office": "New York",
                                    "extn": "4226",
                                    "start": "2011\/01\/25",
                                    "salary": "$112,000"
                                }
                            ]
                        },
                        {
                            "name": "Shad Decker",
                            "position": "Regional Director",
                            "office": "Edinburgh",
                            "extn": "6373",
                            "start": "2008\/11\/13",
                            "salary": "$183,000"
                        },
                        {
                            "name": "Michael Bruce",
                            "position": "Javascript Developer",
                            "office": "Singapore",
                            "extn": "5384",
                            "start": "2011\/06\/27",
                            "salary": "$183,000"
                        },
                        {
                            "name": "Donna Snider",
                            "position": "Customer Support",
                            "office": "New York",
                            "extn": "4226",
                            "start": "2011\/01\/25",
                            "salary": "$112,000"
                        }
                    ]
                },
                {
                    "name": "Lael Greer",
                    "position": "Systems Administrator",
                    "office": "London",
                    "extn": "6733",
                    "start": "2009\/02\/27",
                    "salary": "$103,500",
                    "children": [
                        {
                            "name": "Jonas Alexander",
                            "position": "Developer",
                            "office": "San Francisco",
                            "extn": "8196",
                            "start": "2010\/07\/14",
                            "salary": "$86,500"
                        },
                        {
                            "name": "Shad Decker",
                            "position": "Regional Director",
                            "office": "Edinburgh",
                            "extn": "6373",
                            "start": "2008\/11\/13",
                            "salary": "$183,000"
                        },
                        {
                            "name": "Michael Bruce",
                            "position": "Javascript Developer",
                            "office": "Singapore",
                            "extn": "5384",
                            "start": "2011\/06\/27",
                            "salary": "$183,000"
                        },
                        {
                            "name": "Donna Snider",
                            "position": "Customer Support",
                            "office": "New York",
                            "extn": "4226",
                            "start": "2011\/01\/25",
                            "salary": "$112,000"
                        }
                    ]
                },
                {
                    "name": "Lael Greer",
                    "position": "Systems Administrator",
                    "office": "London",
                    "extn": "6733",
                    "start": "2009\/02\/27",
                    "salary": "$103,500",
                    "children": [
                        {
                            "name": "Jonas Alexander",
                            "position": "Developer",
                            "office": "San Francisco",
                            "extn": "8196",
                            "start": "2010\/07\/14",
                            "salary": "$86,500"
                        },
                        {
                            "name": "Shad Decker",
                            "position": "Regional Director",
                            "office": "Edinburgh",
                            "extn": "6373",
                            "start": "2008\/11\/13",
                            "salary": "$183,000"
                        },
                        {
                            "name": "Michael Bruce",
                            "position": "Javascript Developer",
                            "office": "Singapore",
                            "extn": "5384",
                            "start": "2011\/06\/27",
                            "salary": "$183,000"
                        },
                        {
                            "name": "Donna Snider",
                            "position": "Customer Support",
                            "office": "New York",
                            "extn": "4226",
                            "start": "2011\/01\/25",
                            "salary": "$112,000"
                        }
                    ]
                }
            ]
        },
        {
            "name": "Tiger Nixon",
            "position": "System Architect",
            "office": "Edinburgh",
            "extn": "5421",
            "start": "2011\/04\/25",
            "salary": "$320,800",
            "children": [
                {
                    "name": "Hermione Butler",
                    "position": "Regional Director",
                    "office": "London",
                    "extn": "1016",
                    "start": "2011\/03\/21",
                    "salary": "$356,250"
                },
                {
                    "name": "Lael Greer",
                    "position": "Systems Administrator",
                    "office": "London",
                    "extn": "6733",
                    "start": "2009\/02\/27",
                    "salary": "$103,500",
                    "children": [
                        {
                            "name": "Jonas Alexander",
                            "position": "Developer",
                            "office": "San Francisco",
                            "extn": "8196",
                            "start": "2010\/07\/14",
                            "salary": "$86,500"
                        },
                        {
                            "name": "Shad Decker",
                            "position": "Regional Director",
                            "office": "Edinburgh",
                            "extn": "6373",
                            "start": "2008\/11\/13",
                            "salary": "$183,000"
                        },
                        {
                            "name": "Michael Bruce",
                            "position": "Javascript Developer",
                            "office": "Singapore",
                            "extn": "5384",
                            "start": "2011\/06\/27",
                            "salary": "$183,000"
                        },
                        {
                            "name": "Donna Snider",
                            "position": "Customer Support",
                            "office": "New York",
                            "extn": "4226",
                            "start": "2011\/01\/25",
                            "salary": "$112,000"
                        }
                    ]
                },
                {
                    "name": "Lael Greer",
                    "position": "Systems Administrator",
                    "office": "London",
                    "extn": "6733",
                    "start": "2009\/02\/27",
                    "salary": "$103,500",
                    "children": [
                        {
                            "name": "Jonas Alexander",
                            "position": "Developer",
                            "office": "San Francisco",
                            "extn": "8196",
                            "start": "2010\/07\/14",
                            "salary": "$86,500"
                        },
                        {
                            "name": "Shad Decker",
                            "position": "Regional Director",
                            "office": "Edinburgh",
                            "extn": "6373",
                            "start": "2008\/11\/13",
                            "salary": "$183,000"
                        },
                        {
                            "name": "Michael Bruce",
                            "position": "Javascript Developer",
                            "office": "Singapore",
                            "extn": "5384",
                            "start": "2011\/06\/27",
                            "salary": "$183,000"
                        },
                        {
                            "name": "Donna Snider",
                            "position": "Customer Support",
                            "office": "New York",
                            "extn": "4226",
                            "start": "2011\/01\/25",
                            "salary": "$112,000"
                        }
                    ]
                },
                {
                    "name": "Lael Greer",
                    "position": "Systems Administrator",
                    "office": "London",
                    "extn": "6733",
                    "start": "2009\/02\/27",
                    "salary": "$103,500",
                    "children": [
                        {
                            "name": "Jonas Alexander",
                            "position": "Developer",
                            "office": "San Francisco",
                            "extn": "8196",
                            "start": "2010\/07\/14",
                            "salary": "$86,500"
                        },
                        {
                            "name": "Shad Decker",
                            "position": "Regional Director",
                            "office": "Edinburgh",
                            "extn": "6373",
                            "start": "2008\/11\/13",
                            "salary": "$183,000"
                        },
                        {
                            "name": "Michael Bruce",
                            "position": "Javascript Developer",
                            "office": "Singapore",
                            "extn": "5384",
                            "start": "2011\/06\/27",
                            "salary": "$183,000"
                        },
                        {
                            "name": "Donna Snider",
                            "position": "Customer Support",
                            "office": "New York",
                            "extn": "4226",
                            "start": "2011\/01\/25",
                            "salary": "$112,000"
                        }
                    ]
                }
            ]
        },
        {
            "name": "Tiger Nixon",
            "position": "System Architect",
            "office": "Edinburgh",
            "extn": "5421",
            "start": "2011\/04\/25",
            "salary": "$320,800",
            "children": [
                {
                    "name": "Hermione Butler",
                    "position": "Regional Director",
                    "office": "London",
                    "extn": "1016",
                    "start": "2011\/03\/21",
                    "salary": "$356,250"
                },
                {
                    "name": "Lael Greer",
                    "position": "Systems Administrator",
                    "office": "London",
                    "extn": "6733",
                    "start": "2009\/02\/27",
                    "salary": "$103,500",
                    "children": [
                        {
                            "name": "Jonas Alexander",
                            "position": "Developer",
                            "office": "San Francisco",
                            "extn": "8196",
                            "start": "2010\/07\/14",
                            "salary": "$86,500"
                        },
                        {
                            "name": "Shad Decker",
                            "position": "Regional Director",
                            "office": "Edinburgh",
                            "extn": "6373",
                            "start": "2008\/11\/13",
                            "salary": "$183,000"
                        },
                        {
                            "name": "Michael Bruce",
                            "position": "Javascript Developer",
                            "office": "Singapore",
                            "extn": "5384",
                            "start": "2011\/06\/27",
                            "salary": "$183,000"
                        },
                        {
                            "name": "Donna Snider",
                            "position": "Customer Support",
                            "office": "New York",
                            "extn": "4226",
                            "start": "2011\/01\/25",
                            "salary": "$112,000"
                        }
                    ]
                },
                {
                    "name": "Lael Greer",
                    "position": "Systems Administrator",
                    "office": "London",
                    "extn": "6733",
                    "start": "2009\/02\/27",
                    "salary": "$103,500",
                    "children": [
                        {
                            "name": "Jonas Alexander",
                            "position": "Developer",
                            "office": "San Francisco",
                            "extn": "8196",
                            "start": "2010\/07\/14",
                            "salary": "$86,500"
                        },
                        {
                            "name": "Shad Decker",
                            "position": "Regional Director",
                            "office": "Edinburgh",
                            "extn": "6373",
                            "start": "2008\/11\/13",
                            "salary": "$183,000"
                        },
                        {
                            "name": "Michael Bruce",
                            "position": "Javascript Developer",
                            "office": "Singapore",
                            "extn": "5384",
                            "start": "2011\/06\/27",
                            "salary": "$183,000"
                        },
                        {
                            "name": "Donna Snider",
                            "position": "Customer Support",
                            "office": "New York",
                            "extn": "4226",
                            "start": "2011\/01\/25",
                            "salary": "$112,000"
                        }
                    ]
                },
                {
                    "name": "Lael Greer",
                    "position": "Systems Administrator",
                    "office": "London",
                    "extn": "6733",
                    "start": "2009\/02\/27",
                    "salary": "$103,500",
                    "children": [
                        {
                            "name": "Jonas Alexander",
                            "position": "Developer",
                            "office": "San Francisco",
                            "extn": "8196",
                            "start": "2010\/07\/14",
                            "salary": "$86,500"
                        },
                        {
                            "name": "Shad Decker",
                            "position": "Regional Director",
                            "office": "Edinburgh",
                            "extn": "6373",
                            "start": "2008\/11\/13",
                            "salary": "$183,000"
                        },
                        {
                            "name": "Michael Bruce",
                            "position": "Javascript Developer",
                            "office": "Singapore",
                            "extn": "5384",
                            "start": "2011\/06\/27",
                            "salary": "$183,000"
                        },
                        {
                            "name": "Donna Snider",
                            "position": "Customer Support",
                            "office": "New York",
                            "extn": "4226",
                            "start": "2011\/01\/25",
                            "salary": "$112,000"
                        }
                    ]
                }
            ]
        },
        {
            "name": "Tiger Nixon",
            "position": "System Architect",
            "office": "Edinburgh",
            "extn": "5421",
            "start": "2011\/04\/25",
            "salary": "$320,800",
            "children": [
                {
                    "name": "Hermione Butler",
                    "position": "Regional Director",
                    "office": "London",
                    "extn": "1016",
                    "start": "2011\/03\/21",
                    "salary": "$356,250"
                },
                {
                    "name": "Lael Greer",
                    "position": "Systems Administrator",
                    "office": "London",
                    "extn": "6733",
                    "start": "2009\/02\/27",
                    "salary": "$103,500",
                    "children": [
                        {
                            "name": "Jonas Alexander",
                            "position": "Developer",
                            "office": "San Francisco",
                            "extn": "8196",
                            "start": "2010\/07\/14",
                            "salary": "$86,500"
                        },
                        {
                            "name": "Shad Decker",
                            "position": "Regional Director",
                            "office": "Edinburgh",
                            "extn": "6373",
                            "start": "2008\/11\/13",
                            "salary": "$183,000"
                        },
                        {
                            "name": "Michael Bruce",
                            "position": "Javascript Developer",
                            "office": "Singapore",
                            "extn": "5384",
                            "start": "2011\/06\/27",
                            "salary": "$183,000"
                        },
                        {
                            "name": "Donna Snider",
                            "position": "Customer Support",
                            "office": "New York",
                            "extn": "4226",
                            "start": "2011\/01\/25",
                            "salary": "$112,000"
                        }
                    ]
                },
                {
                    "name": "Lael Greer",
                    "position": "Systems Administrator",
                    "office": "London",
                    "extn": "6733",
                    "start": "2009\/02\/27",
                    "salary": "$103,500",
                    "children": [
                        {
                            "name": "Jonas Alexander",
                            "position": "Developer",
                            "office": "San Francisco",
                            "extn": "8196",
                            "start": "2010\/07\/14",
                            "salary": "$86,500"
                        },
                        {
                            "name": "Shad Decker",
                            "position": "Regional Director",
                            "office": "Edinburgh",
                            "extn": "6373",
                            "start": "2008\/11\/13",
                            "salary": "$183,000"
                        },
                        {
                            "name": "Michael Bruce",
                            "position": "Javascript Developer",
                            "office": "Singapore",
                            "extn": "5384",
                            "start": "2011\/06\/27",
                            "salary": "$183,000"
                        },
                        {
                            "name": "Donna Snider",
                            "position": "Customer Support",
                            "office": "New York",
                            "extn": "4226",
                            "start": "2011\/01\/25",
                            "salary": "$112,000"
                        }
                    ]
                },
                {
                    "name": "Lael Greer",
                    "position": "Systems Administrator",
                    "office": "London",
                    "extn": "6733",
                    "start": "2009\/02\/27",
                    "salary": "$103,500",
                    "children": [
                        {
                            "name": "Jonas Alexander",
                            "position": "Developer",
                            "office": "San Francisco",
                            "extn": "8196",
                            "start": "2010\/07\/14",
                            "salary": "$86,500"
                        },
                        {
                            "name": "Shad Decker",
                            "position": "Regional Director",
                            "office": "Edinburgh",
                            "extn": "6373",
                            "start": "2008\/11\/13",
                            "salary": "$183,000"
                        },
                        {
                            "name": "Michael Bruce",
                            "position": "Javascript Developer",
                            "office": "Singapore",
                            "extn": "5384",
                            "start": "2011\/06\/27",
                            "salary": "$183,000"
                        },
                        {
                            "name": "Donna Snider",
                            "position": "Customer Support",
                            "office": "New York",
                            "extn": "4226",
                            "start": "2011\/01\/25",
                            "salary": "$112,000"
                        }
                    ]
                }
            ]
        },
        {
            "name": "Garrett Winters",
            "position": "Accountant",
            "office": "Tokyo",
            "extn": "8422",
            "start": "2011\/07\/25",
            "salary": "$170,750"
        },
        {
            "name": "Ashton Cox",
            "position": "Junior Technical Author",
            "office": "San Francisco",
            "extn": "1562",
            "start": "2009\/01\/12",
            "salary": "$86,000"
        },
        {
            "name": "Cedric Kelly",
            "position": "Senior Javascript Developer",
            "office": "Edinburgh",
            "extn": "6224",
            "start": "2012\/03\/29",
            "salary": "$433,060"
        },
        {
            "name": "Zedric Kelly",
            "position": "Senior Javascript Developer",
            "office": "Edinburgh",
            "extn": "6224",
            "start": "2012\/03\/29",
            "salary": "$433,060"
        }
    ]
};

Mock.mock(RegExp("http://127.0.0.1/lostweek/hellodata.*"),"get",function(){      
        return testData;
        });

        var columns = [
                {
                    title: '',
                    target: 0,
                    className: 'treegrid-control',
                    data: function (item) {
                        if (item.children) {
                            return '<span>+<\/span>';
                        }
                        return '';
                    }
                },
                {
                    title: 'Name',
                    target: 1,
                    data: function (item) {
                        return item.name;
                    }
                },
                {
                    title: 'Position',
                    target: 2,
                    data: function (item) {
                        return item.position;
                    }
                },
                {
                    title: 'Office',
                    target: 3,
                    data: function (item) {
                        return item.office;
                    }
                },
                {
                    title: 'Extn.',
                    target: 4,
                    data: function (item) {
                        return item.extn;
                    }
                },
                {
                    title: 'Start date',
                    target: 5,
                    data: function (item) {
                        return item.start;
                    }
                },
                {
                    title: 'Salary',
                    target: 6,
                    data: function (item) {
                        return item.salary;
                    }
                }
            ];

$('#accountListTable').DataTable({
    columns: columns,
    ajax: "http://127.0.0.1/lostweek/hellodata.html",
    treeGrid: {
        left: 10,
        expandIcon: "<span>+</span>",
        collapseIcon: "<span>-</span>"
    }
});
    
});



    </script>


</body>
</html>