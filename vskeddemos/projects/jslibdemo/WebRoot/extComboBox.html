<!DOCTYPE HTML>
<html>
  <head>
    <base href="">
    
    <title> </title>
	<meta http-equiv="pragma" content="no-cache">
	<meta http-equiv="cache-control" content="no-cache">
	<meta http-equiv="expires" content="0">    
	<meta http-equiv="keywords" content="">
	<meta http-equiv="description" content="">
  <link rel="stylesheet" type="text/css" href="css/extjs421css/resources/css/ext-all.css">
  <script type="text/javascript" src="js/extjs421js/ext-all.js"></script>
<script>
 

Ext.onReady(function() {  
	
	
	var data1=[
            ['a1','a1t'],
            ['a2','a2t'],
            ['a3','a3t'],
            ['a4','a4t'],
            ['a5','a5t'],
            ['a6','a6t'],
            ['a7','a7t']
            
        ];
	var data2=[
            ['b1','b1t'],
            ['b2','b2t'],
            ['b3','b3t'],
            ['b4','b4t'],
            ['b5','b5t'],
            ['b6','b6t'],
            ['b7','b7t']
            
        ];
	var data3=[
            ['c1','c1t'],
            ['c2','c2t'],
            ['c3','c3t'],
            ['c4','c4t'],
            ['c5','c5t'],
            ['c6','c6t'],
            ['c7','c7t']
            
        ];
    var data4=[];
    
        var store1 = new Ext.data.SimpleStore({
            fields:['value','text'],
            data:data1
        });
         var store2 = new Ext.data.SimpleStore({
            fields:['value','text'],
            data:data2
        });
         var store3 = new Ext.data.SimpleStore({
            fields:['value','text'],
            data:data3
        });
         var store4 = new Ext.data.SimpleStore({
            fields:['value','text'],
            data:data4
        });
        
        var combo1 = new Ext.form.ComboBox({
            store:store1,
            //renderTo:'combo1',
            id:'comboProvince',
            emptyText:'Please selecta...',
            fieldLabel:'combo1',
            triggerAction:'all',
            valueField:'value',
            listeners : {  
                'select' : function(obj, data, index){  
                    console.log(data[0].data.text+'|'+data[0].data.value);
                    //ajax send data to server 1
                    //发送请求到服务端取数据 1
                    //get response data from server 2
                    //取出服务端响应的数据
                    console.log(data[0].data.value=='a7');
                    
                    if(data[0].data.value=='a7'){
                    Ext.getCmp('comboCity').store=store2;
                    //Ext.getCmp('comboCity').store.load();
                    }else{
                    	//clean two and three level store
                    	//清空二级三级store
                    }
                    
                  }
            },
            displayField:'text'
        });
        
         var combo2 = new Ext.form.ComboBox({
            //renderTo:'combo2',
             id:'comboCity',
            emptyText:'Please selectb...',
            fieldLabel:'combo2',
            triggerAction:'all',
            valueField:'value',
            listeners : {  
                'select' : function(obj, data, index){  
                    console.log(data[0].data.text+'|'+data[0].data.value);
                    //ajax send data to server 1
                    //发送请求到服务端取数据 1
                    //get response data from server 2
                    //取出服务端响应的数据
                    console.log(data[0].data.value=='b5');
                    
                    if(data[0].data.value=='b5'){
                    Ext.getCmp('comboArea').store=store3;
                    //Ext.getCmp('comboArea').store.load();
                    }else{
                    	//clean three level store
                    	//清空二三级store
                    }
                    
                  }
            },
            displayField:'text'
        });
        
         var combo3 = new Ext.form.ComboBox({
            //renderTo:'combo3',
             id:'comboArea',
            emptyText:'Please selectc...',
            fieldLabel:'combo3',
            triggerAction:'all',
            valueField:'value',
            displayField:'text'
        });
        
        var form = new Ext.form.FormPanel({
            id:'form',
            title:'form',
            renderTo:'tsFm',
            height:500,
            items:[
            {items:combo1},{items:combo2},{items:combo3}
            ]
        }); 
    
});
	
</script>
  </head>
  
  <body>
  <div id='tsFm'></div>
    
  </body>
</html>