<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
	<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no"/>
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>Gridx Mobile</title>
	<link href="../../../../dojox/mobile/themes/iphone/base.css" rel="stylesheet"/>
	<link href="../../../../dojox/mobile/themes/iphone/TabBar.css" rel="stylesheet"/>
	<link href="../../themes/iphone/Grid.css" rel="stylesheet"/>
	<script>
		var djConfig = {
			packages: [
				{
					name: 'gridx',
					location: '../gridx'
				}
			]
		};
	</script>
	<script type="text/javascript" src="../../../../dojo/dojo.js" djConfig="isDebug: true, parseOnLoad: false, has: {'dojo-bidi': true}, mblAlwaysHideAddressBar: true"></script>

	<style>
		td, th	{	font-size: 12px; text-align: left;}
		.mobileGridx th	{	}
	</style>
	
	<script>
		require([
			'dojo/_base/declare',
			'dojo/domReady',
			'dojox/mobile/parser',
			'gridx/mobile/Grid',
			'gridx/mobile/Sort',
			'dojo/store/Memory',
			'dojox/mobile/Heading',
			'dojox/mobile/Button',			
			'dojox/mobile/View',
			'dojox/mobile/ScrollableView',
			"dojox/mobile/compat",
			'dojox/mobile/TabBar',
			'dijit/_BidiSupport'			
		], function(declare, ready, parser, Grid, Sort, MemoryStore){
			declare('gridx.mobile.tests.bidi.Grid', [Grid, Sort], {});
			ready(function(){
				parser.parse();
				var products = [
					{rtlInherited: '\u05e9\u05d5\u05dd-Garlic!', rtlExplicit: '\u05e9\u05d5\u05dd-Garlic!', ltrExplicit: '\u05e9\u05d5\u05dd-Garlic!', autoExplicit: '\u05e9\u05d5\u05dd-Garlic!'},
					{rtlInherited: 'Pen!', rtlExplicit: 'Pen!', ltrlExplicit: 'Pen!',autoExplicit: 'Pen!'},
					{rtlInherited: 'Telephone!', rtlExplicit: 'Telephone!', ltrExplicit: 'Telephone!', autoExplicit: 'Telephone!'},
					{rtlInherited: '\u05DB \u05D5 \u05E1 Glass!', rtlExplicit: '\u05DB \u05D5 \u05E1 Glass!', ltrExplicit: '\u05DB \u05D5 \u05E1 Glass!',  autoExplicit: '\u05DB \u05D5 \u05E1 Glass!'},
					{rtlInherited: 'Chocolate!', rtlExplicit: 'Chocolate!', ltrExplicit: 'Chocolate!', autoExplicit: 'Chocolate!'}				
				];
				var columns = [
					{field: 'rtlInherited', width: '30%', title: 'rtl (inherited) textDir!'},
					{field: 'rtlExplicit', width: '30%', title: 'rtl (explicit) textDir!', textDir:"rtl", template: '<font color="green">${rtlExplicit}</font>'},
					{field: 'ltrExplicit', width: '30%', title: 'ltr (explicit) textDir!', textDir:"ltr", template: '<font color="blue">${rtlExplicit}</font>'},					
					{field: 'autoExplicit', width: '20%', title: 'auto (explicit) textDir!', textDir:"auto", template: '<font color="red">${autoExplicit}</font>'}
				];				
				grid.setStore(new MemoryStore({data: products}));
				grid.setColumns(columns);
			});
		});
	</script>	
</head>

<body style="visibility:hidden;">
	<div id="group1" dojoType="dojox.mobile.View" selected="true">
		<button data-dojo-type="dojox.mobile.Button" data-dojo-props='type:"button", onClick:function(){ grid.set("textDir",(grid.get("textDir") !== "rtl") ? "rtl" : "ltr"); }'>Toggle grid textDir</button>
		<h1 dojoType="dojox.mobile.Heading">Test Bidi textDir</h1>
		<div dojoType="gridx.mobile.tests.bidi.Grid" textDir="rtl" jsId="grid" showHeader="true"></div>	
	</div>
</body>
</html>